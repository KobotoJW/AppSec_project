{% extends "posts/base.html" %}

{% block title %}Report Content - Secure Content Platform{% endblock %}

{% block content %}
<div class="card" style="max-width: 700px; margin: 2rem auto;">
    <h2>Report {{ content_type|title }}</h2>
    <p style="color: #7f8c8d; margin-bottom: 1.5rem;">
        Help us maintain a safe community by reporting inappropriate content.
    </p>
    
    <div class="alert alert-info" style="margin-bottom: 1.5rem;">
        <strong>Preview:</strong>
        <div style="margin-top: 0.5rem; padding: 0.5rem; background: white; border-radius: 4px;">
            {% if content_type == 'post' %}
                <strong>{{ content.author.email }}</strong> - {{ content.created_at|date:"F d, Y H:i" }}<br>
                {{ content.content|truncatewords:50 }}
            {% else %}
                <strong>{{ content.author.email }}</strong> - {{ content.created_at|date:"F d, Y H:i" }}<br>
                {{ content.content|truncatewords:30 }}
            {% endif %}
        </div>
    </div>
    
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.reason.id_for_label }}">Reason *</label>
            {{ form.reason }}
            {% if form.reason.errors %}
                <div class="alert alert-error">
                    {{ form.reason.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="{{ form.description.id_for_label }}">Additional Details (Optional)</label>
            {{ form.description }}
            {% if form.description.errors %}
                <div class="alert alert-error">
                    {{ form.description.errors }}
                </div>
            {% endif %}
            <small style="color: #7f8c8d;">Please provide any additional context that might help our moderation team.</small>
        </div>
        
        <div style="margin-top: 1.5rem; display: flex; gap: 1rem;">
            <button type="submit" class="btn btn-danger">Submit Report</button>
            <a href="{% url 'posts:feed' %}" class="btn">Cancel</a>
        </div>
    </form>
    
    <div class="alert alert-warning" style="margin-top: 2rem;">
        <strong>Note:</strong> False or malicious reports may result in account suspension.
        All reports are reviewed by our moderation team.
    </div>
</div>
{% endblock %}
